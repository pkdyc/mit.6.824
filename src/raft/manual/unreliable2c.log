GOROOT=/opt/homebrew/Cellar/go@1.18/1.18.7/libexec #gosetup
GOPATH=/Users/pkdyc/sdk/go1.18.6:/Users/pkdyc/go #gosetup
/opt/homebrew/Cellar/go@1.18/1.18.7/libexec/bin/go test -c -o /private/var/folders/lt/fvh2wbf56yd1q4lr7rpy358h0000gn/T/GoLand/___TestFigure8Unreliable2C_in_6_824_raft.test 6.824/raft #gosetup
/opt/homebrew/Cellar/go@1.18/1.18.7/libexec/bin/go tool test2json -t /private/var/folders/lt/fvh2wbf56yd1q4lr7rpy358h0000gn/T/GoLand/___TestFigure8Unreliable2C_in_6_824_raft.test -test.v -test.paniconexit0 -test.run ^\QTestFigure8Unreliable2C\E$
=== RUN   TestFigure8Unreliable2C
Test (2C): Figure 8 (unreliable) ...
[2] i start to do the election with term [0] and log [0] with detail [[]raft.LogEntry(nil)]
[3]: Received vote from [2] with [&raft.RequestVoteArgs{Term:1, CandidateId:2, LastLogIndex:0, LastLogTerm:0}]
[3]: winning case 0 [2] with [&raft.RequestVoteArgs{Term:1, CandidateId:2, LastLogIndex:0, LastLogTerm:0}]
[4]: Received vote from [2] with [&raft.RequestVoteArgs{Term:1, CandidateId:2, LastLogIndex:0, LastLogTerm:0}]
[4]: winning case 0 [2] with [&raft.RequestVoteArgs{Term:1, CandidateId:2, LastLogIndex:0, LastLogTerm:0}]
[2] i am leader with term [1] with log [[]raft.LogEntry(nil)]
set the value of nextIndex[0] to be [1]
set the value of nextIndex[1] to be [1]
set the value of nextIndex[2] to be [1]
set the value of nextIndex[3] to be [1]
set the value of nextIndex[4] to be [1]
[0]: Received vote from [2] with [&raft.RequestVoteArgs{Term:1, CandidateId:2, LastLogIndex:0, LastLogTerm:0}]
[0]: winning case 0 [2] with [&raft.RequestVoteArgs{Term:1, CandidateId:2, LastLogIndex:0, LastLogTerm:0}]
[0] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry(nil), LeaderCommit:0, LeaderLength:0}]
[0] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry(nil)]
[4] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry(nil), LeaderCommit:0, LeaderLength:0}]
[4] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry(nil)]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received heartbeat success from [0], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry(nil), LeaderCommit:0, LeaderLength:0}] dont update matchIndex from [1] to [1]
[1] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry(nil), LeaderCommit:0, LeaderLength:0}]
damn it bruh, i am [1]
[1] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry(nil)]
[1]: Received vote from [2] with [&raft.RequestVoteArgs{Term:1, CandidateId:2, LastLogIndex:0, LastLogTerm:0}]
[1] [1] [true] leader id [2] with value [1554]
[3] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry(nil), LeaderCommit:0, LeaderLength:0}]
[3] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry(nil)]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received heartbeat success from [3], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry(nil), LeaderCommit:0, LeaderLength:0}] dont update matchIndex from [1] to [1]
ğŸ´ğŸ´ able to commit !!! current log len [1], lastApplied [0]
ğŸ’”ğŸ’”ğŸ’” wtf??? commit failed
[2] :case log empty: Sending to server [0] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}, LeaderCommit:0, LeaderLength:1}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}]
[2] :case log empty: Sending to server [1] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}, LeaderCommit:0, LeaderLength:1}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}]
[2] :case log empty: Sending to server [3] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}, LeaderCommit:0, LeaderLength:1}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}]
[2] :case log empty: Sending to server [4] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}, LeaderCommit:0, LeaderLength:1}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}]
[3] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}, LeaderCommit:0, LeaderLength:1}]
[3] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received success from [3], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}, LeaderCommit:0, LeaderLength:1}] update matchIndex from [1] to [2]
[0] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}, LeaderCommit:0, LeaderLength:1}]
[0] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}]
[1] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}, LeaderCommit:0, LeaderLength:1}]
[1] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received success from [1], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}}, LeaderCommit:0, LeaderLength:1}] update matchIndex from [1] to [2]
ğŸ´ğŸ´ able to commit !!! current log len [1], lastApplied [0]
ğŸ˜„ğŸ˜„ğŸ˜„ commit [raft.LogEntry{Command:1554, Term:1, Index:1}] successfully
[2] [1] [true] leader id [2] with value [4639]
[3] [1] [true] leader id [2] with value [3781]
[2] :case log empty: Sending to server [0] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}, LeaderCommit:1, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :case log not empty: Sending to server [1] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:1, PrevLogTerm:1, Entries:[]raft.LogEntry{raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}, LeaderCommit:1, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :case log not empty: Sending to server [3] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:1, PrevLogTerm:1, Entries:[]raft.LogEntry{raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}, LeaderCommit:1, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :case log empty: Sending to server [4] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}, LeaderCommit:1, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[0] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}, LeaderCommit:1, LeaderLength:3}]
[0] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received success from [0], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}, LeaderCommit:1, LeaderLength:3}] update matchIndex from [1] to [4]
[1] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:1, PrevLogTerm:1, Entries:[]raft.LogEntry{raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}, LeaderCommit:1, LeaderLength:3}]
[1] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received success from [1], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:1, PrevLogTerm:1, Entries:[]raft.LogEntry{raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}, LeaderCommit:1, LeaderLength:3}] update matchIndex from [2] to [4]
ğŸ´ğŸ´ able to commit !!! current log len [3], lastApplied [1]
ğŸ˜„ğŸ˜„ğŸ˜„ commit [raft.LogEntry{Command:4639, Term:1, Index:2}] successfully
ğŸ˜„ğŸ˜„ğŸ˜„ commit [raft.LogEntry{Command:3781, Term:1, Index:3}] successfully
[4] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}, LeaderCommit:1, LeaderLength:3}]
[4] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received success from [4], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:0, PrevLogTerm:0, Entries:[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}, LeaderCommit:1, LeaderLength:3}] update matchIndex from [1] to [4]
[3] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:1, PrevLogTerm:1, Entries:[]raft.LogEntry{raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}, LeaderCommit:1, LeaderLength:3}]
[3] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received success from [3], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:1, PrevLogTerm:1, Entries:[]raft.LogEntry{raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}, LeaderCommit:1, LeaderLength:3}] update matchIndex from [2] to [4]
[2] :case log not empty: Sending to server [0] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :case log not empty: Sending to server [1] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :case log not empty: Sending to server [3] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :case log not empty: Sending to server [4] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[1] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
[1] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received success from [1], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}] update matchIndex from [4] to [4]
[3] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
[3] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received success from [3], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}] update matchIndex from [4] to [4]
ğŸ´ğŸ´ able to commit !!! current log len [3], lastApplied [3]
[2] :case log not empty: Sending to server [0] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :case log not empty: Sending to server [1] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :case log not empty: Sending to server [3] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :case log not empty: Sending to server [4] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[4] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
[4] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received success from [4], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}] update matchIndex from [4] to [4]
[3] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
[3] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[1] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
[1] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received success from [1], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}] update matchIndex from [4] to [4]
ğŸ´ğŸ´ able to commit !!! current log len [3], lastApplied [3]
[2] :case log not empty: Sending to server [0] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :case log not empty: Sending to server [1] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :case log not empty: Sending to server [3] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :case log not empty: Sending to server [4] with data: [raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
 ğŸ˜…ğŸ˜…ğŸ˜… my own log is [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[3] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
[3] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received success from [3], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}] update matchIndex from [4] to [4]
[4] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
[4] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}, raft.LogEntry{Command:3781, Term:1, Index:3}}]
[2] :  ğŸŒ°ğŸŒ°ğŸŒ° received success from [4], with args [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}] update matchIndex from [4] to [4]
ğŸ´ğŸ´ able to commit !!! current log len [3], lastApplied [3]
[0] Append entry from [2] with data [&raft.AppendEntriesArgs{Term:1, LeaderId:2, PrevLogIndex:3, PrevLogTerm:1, Entries:[]raft.LogEntry(nil), LeaderCommit:3, LeaderLength:3}]
[0] : ğŸ‰ğŸ‰ğŸ‰, current log [[]raft.LogEntry{raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:1554, Term:1, Index:1}, raft.LogEntry{Command:4639, Term:1, Index:2}}]
2023/02/22 20:10:26 0: log map[1:1554]; server map[1:1554 2:4639 3:3781]
2023/02/22 20:10:26 0: log map[1:1554]; server map[1:1554 2:4639 3:3781]
2023/02/22 20:10:26 0: log map[1:1554]; server map[1:1554 2:4639 3:3781]
2023/02/22 20:10:26 0: log map[1:1554]; server map[1:1554 2:4639 3:3781]
2023/02/22 20:10:26 apply error: commit index=2 server=0 1554 != server=4 4639


Process finished with the exit code 1

